{% extends 'Eng_base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}

    <div class="container">
        <div class="row">
            {% include 'user_item.html' %}

            <div class="col-md-9">
                <h1>User Stats</h1>
                <br>

                <div id="stats" class="border-container" style="max-width: 800px">
                    {#                <i class="fa-solid fa-circle-check"></i>#}
                    <div class="flex-container1">
                        <div class="flex-item1">
                            <h4>Count</h4>
                            <hr>
                            <h1>{{ count }}</h1>
                        </div>
                        <div class="flex-item1">
                            <h4>Correct count</h4>
                            <hr>
                            <h1>{{ count_correct }}</h1>
                        </div>
                        <div class="flex-item1">
                            <h4>Last using</h4>
                            <hr>
                            <h1>{{ last_using_str }}</h1>
                        </div>
                    </div>

                    <h3>Last week</h3>

                    <div class="flex-container1">
                        <div class="flex-item1">
                            <h1>{{ count_lastweek }}</h1>
                            <hr>
                            <h4>Count</h4>

                        </div>

                        <div class="flex-item1">
                            <h1>{{ count_correct_lastweek }}</h1>
                            <hr>
                            <h4>Correct count</h4>
                        </div>
                        <div class="flex-item1">
                        </div>
                    </div>
                </div>

                <br>

                {% if top3 %}
                    <h1>Top mistakes</h1>
                    <div class="flex-container1 border-container" style="max-width: 800px">
                        {% for item in top3 %}
                            <div class="flex-item1">
                                <h4>{{ item.0 }}</h4>
                                <hr>
                                <h1>{{ item.1 }}</h1>
                            </div>
                        {% endfor %}
                    </div>

                {% endif %}

                {% if quiz %}
                <br>
                <h1>Mini quiz</h1>
                <div class="border-container" style="max-width: 800px">
                    <h3>Fix random sentence:</h3>
                    <p><i>{{ random_sentence }}</i></p>
                    <p id='hidden' style="display: none; color: rgba(0,128,0,0.74)">{{ random_sentence2 }}</p>
                    <button class="btn btn-md btn-warning" type="button" onclick="h()">Show</button>
                    <a href="{{ random_sentence_url }}" class="btn btn-md btn-warning">Open fix</a>
                </div>
                {% endif %}

                <br>

{#                {% if not IS_PROD %}#}
{#                    <h1>Test</h1>#}
{#                    <hr>#}
                    {#    filter#}
{#                    <div class="border-container">#}
{##}
{#                        <div class="col-md-3">#}
{#                            <form action="">#}
{#                                <select class="form-select" aria-label="Default select example" name="tag">#}
{#                                    <option selected>Grammar</option>#}
{#                                    <option value="MisusedWord">Misused Word</option>#}
{#                                    <option value="Grammar">Grammar</option>#}
{#                                    <option value="Spelling">Spelling</option>#}
{#                                    <option value="Punctuation">Punctuation</option>#}
{#                                </select>#}
{#                                <button type="submit" class="btn btn-sm btn-primary mt-3">Выбрать</button>#}
{#                            </form>#}
{#                        </div>#}
{##}
{#                        <p><b>{{ testdata|linebreaksbr }}</b></p>#}
{#                    </div>#}
{#                {% endif %}#}

            </div>

        </div>
    </div>

{% endblock %}